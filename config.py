# -*- coding: utf-8 -*-
import os
from dotenv import load_dotenv

load_dotenv()

# ===============================
# üîë API –ù–ê–°–¢–†–û–ô–ö–ò
# ===============================
API_TOKEN = os.getenv("API_TOKEN")
GROUP_ID_STR = os.getenv("GROUP_ID")
ADMIN_ID_STR = os.getenv("MY_ID")
DEEPSEEK_API_KEY = os.getenv("DEEPSEEK")

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º ID
try:
    GROUP_ID = int(GROUP_ID_STR) if GROUP_ID_STR else None
except (ValueError, TypeError):
    GROUP_ID = None

try:
    ADMIN_ID = int(ADMIN_ID_STR) if ADMIN_ID_STR else None
except (ValueError, TypeError):
    ADMIN_ID = None

# ===============================
# ‚è∞ –†–ê–°–ü–ò–°–ê–ù–ò–ï –ü–û–°–¢–ò–ù–ì–ê (UTC+5)
# ===============================
POSTING_SCHEDULE = {
    'monday': [
        {'start': '10:00', 'end': '12:00'},
        {'start': '13:00', 'end': '16:00'}
    ],
    'tuesday': [
        {'start': '10:00', 'end': '12:00'},
        {'start': '19:00', 'end': '22:00'}
    ],
    'wednesday': [
        {'start': '10:00', 'end': '12:00'},
        {'start': '13:00', 'end': '16:00'}
    ],
    'thursday': [
        {'start': '10:00', 'end': '12:00'},
        {'start': '17:00', 'end': '22:00'}
    ],
    'friday': [
        {'start': '10:00', 'end': '12:00'},
        {'start': '17:00', 'end': '22:00'},
        {'start': '23:00', 'end': '01:00'}  # –î–æ 1 –Ω–æ—á–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è
    ],
    'saturday': [
        {'start': '13:00', 'end': '16:00'},
        {'start': '23:00', 'end': '02:00'}  # –î–æ 2 –Ω–æ—á–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è
    ],
    'sunday': [
        {'start': '00:00', 'end': '02:00'},  # –° –ø–æ–ª—É–Ω–æ—á–∏ –¥–æ 2 —É—Ç—Ä–∞
        {'start': '12:00', 'end': '16:00'},
        {'start': '19:00', 'end': '22:00'}
    ]
}

# ===============================
# üìù –ü–£–¢–ò –ö –ü–†–û–ú–ü–¢–ê–ú
# ===============================
PROMPT_PATHS = {
    'style_formatting': 'prompts/prompt1.txt',  # –°—Ç–∏–ª—å –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
    'group_processing': 'prompts/prompt2.txt',  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –≥—Ä—É–ø–ø—ã
    'post_improvement': 'prompts/prompt3.txt'  # –î–æ—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Å—Ç–æ–≤
}

# ===============================
# üí¨ –¢–ï–ö–°–¢–´ –°–û–û–ë–©–ï–ù–ò–ô
# ===============================
MESSAGES = {
    'start_welcome': "ü§ñ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!\n\n–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:",
    'post_creation_prompt': "üìù –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –∏/–∏–ª–∏ –º–µ–¥–∏–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞:",
    'auto_mode_status': "üîÑ –†–µ–∂–∏–º: AUTO",
    'queue_empty': "üìã –û—á–µ—Ä–µ–¥—å –ø–æ—Å—Ç–æ–≤ –ø—É—Å—Ç–∞",
    'queue_title': "üìã –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã ({count}):",
    'preview_title': "–ü–†–ï–î–ü–†–û–°–ú–û–¢–† –ü–û–°–¢–ê #{post_id}",
    'preview_footer': "--- –ö–û–ù–ï–¶ –ü–û–°–¢–ê ---",
    'post_published': "‚úÖ –ü–æ—Å—Ç #{post_id} —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω!",
    'post_cancelled': "‚ùå –ü–æ—Å—Ç #{post_id} –æ—Ç–º–µ–Ω–µ–Ω",
    'post_deleted': "üóë –ü–æ—Å—Ç —É–¥–∞–ª–µ–Ω",
    'post_scheduled': "‚è∞ –ü–æ—Å—Ç –æ—Ç–ª–æ–∂–µ–Ω –Ω–∞ {time}",
    'settings_current_admin': "üë§ –¢–µ–∫—É—â–∏–π –∞–¥–º–∏–Ω: @{username} (ID: {user_id})",
    'settings_current_group': "üì¢ –ì—Ä—É–ø–ø–∞ –¥–ª—è –ø–æ—Å—Ç–æ–≤: {group_name}\nID: {group_id}",
    'editing_prompt_title': "üìù –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: \"{prompt_name}\"",
    'prompt_updated': "‚úÖ –ü—Ä–æ–º–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω!",
    'time_input_prompt': "‚è∞ –û—Ç–ø—Ä–∞–≤—å—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ: –î–î.–ú–ú.–ì–ì–ì–ì –ß–ß:–ú–ú",
    'new_admin_prompt': "üë§ –û—Ç–ø—Ä–∞–≤—å—Ç–µ ID –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞ (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã):",
    'new_group_prompt': "üì¢ –û—Ç–ø—Ä–∞–≤—å—Ç–µ ID –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å -100):",
    'admin_change_confirm': "‚ö†Ô∏è –í—ã —É–≤–µ—Ä–µ–Ω—ã? –í—ã –ø–æ—Ç–µ—Ä—è–µ—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É!\n–ù–æ–≤—ã–π –∞–¥–º–∏–Ω: {new_admin_id}",
    'group_checking': "üß™ –ü—Ä–æ–≤–µ—Ä—è—é –¥–æ—Å—Ç—É–ø –∫ –≥—Ä—É–ø–ø–µ...",
    'group_changed': "‚úÖ –ì—Ä—É–ø–ø–∞ –∏–∑–º–µ–Ω–µ–Ω–∞!",
    'group_access_error': "‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –≥—Ä—É–ø–ø–µ",
    'edit_post_prompt': "‚úèÔ∏è –ü–æ—Å—Ç #{post_id} –æ–∂–∏–¥–∞–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏.\n\n–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è–º–∏:",
    'bot_started': "ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!",
    'bot_stopping': "ü§ñ –ë–æ—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É...",
    'ai_processing_error': "‚ùå –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ò–ò",
    'post_too_long_warning': "‚ö†Ô∏è –¢–µ–∫—Å—Ç –æ–±—Ä–µ–∑–∞–Ω –¥–ª—è –º–µ–¥–∏–∞ (–ª–∏–º–∏—Ç 1024 —Å–∏–º–≤–æ–ª–∞)",
    'input_truncated_warning': "‚ö†Ô∏è –í—Ö–æ–¥–Ω–æ–π —Ç–µ–∫—Å—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—Ä–µ–∑–∞–Ω ‚Äî –ø—Ä–æ–≤–µ—Ä—å –∏—Å—Ç–æ—á–Ω–∏–∫."
}

# ===============================
# üéõ –ö–ù–û–ü–ö–ò –ò–ù–¢–ï–†–§–ï–ô–°–ê
# ===============================
BUTTONS = {
    # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
    'create_post': "üìù –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç",
    'auto_mode': "üîÑ –†–µ–∂–∏–º: AUTO",
    'settings': "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏",
    'queue': "üìã –û—á–µ—Ä–µ–¥—å ({count})",

    # –ü—Ä–µ–≤—å—é –ø–æ—Å—Ç–∞
    'publish_now': "‚úÖ –ó–∞–ø–æ—Å—Ç–∏—Ç—å —Å–µ–π—á–∞—Å",
    'schedule_post': "‚è∞ –û—Ç–ª–æ–∂–∏—Ç—å –ø–æ—Å—Ç",
    'delete_post': "üóë –£–¥–∞–ª–∏—Ç—å",
    'improve_post': "‚úèÔ∏è –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å",
    'cancel_post': "‚ùå –û—Ç–º–µ–Ω–∏—Ç—å",

    # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
    'in_30_min': "‚è∞ –ß–µ—Ä–µ–∑ 30 –º–∏–Ω",
    'in_1_hour': "üïê –ß–µ—Ä–µ–∑ 1 —á–∞—Å",
    'tomorrow_9am': "üìÖ –ó–∞–≤—Ç—Ä–∞ –≤ 9:00",
    'choose_time': "‚è∞ –í—ã–±—Ä–∞—Ç—å –≤—Ä–µ–º—è",
    'distribute_auto': "üîÑ –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å",
    'set_custom_time': "‚è∞ –ó–∞–¥–∞—Ç—å –≤—Ä–µ–º—è",

    # –û—á–µ—Ä–µ–¥—å
    'refresh_queue': "üîÑ –û–±–Ω–æ–≤–∏—Ç—å",
    'back_to_menu': "üîô –ù–∞–∑–∞–¥",
    'publish_now_queue': "‚úÖ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å",
    'change_time': "‚è∞ –ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è",
    'cancel_publication': "üóë –û—Ç–º–µ–Ω–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é",
    'back_to_queue': "üîô –ö —Å–ø–∏—Å–∫—É –æ—á–µ—Ä–µ–¥–∏",

    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
    'edit_style_prompt': "üìù –°—Ç–∏–ª—å –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
    'edit_group_prompt': "‚úÇÔ∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –≥—Ä—É–ø–ø—ã",
    'edit_improve_prompt': "üîß –î–æ—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Å—Ç–æ–≤",
    'change_admin': "üë§ –°–º–µ–Ω–∏—Ç—å –∞–¥–º–∏–Ω–∞",
    'change_group': "üì¢ –°–º–µ–Ω–∏—Ç—å –≥—Ä—É–ø–ø—É",
    'show_stats': "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
    'back_to_settings': "üîô –ù–∞–∑–∞–¥ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º",

    # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
    'view_current_prompt': "üìñ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–º–ø—Ç",
    'edit_prompt': "‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–º–ø—Ç",
    'reset_prompt': "üîÑ –°–±—Ä–æ—Å–∏—Ç—å –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π",

    # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
    'confirm_yes': "‚úÖ –î–∞, –ø–µ—Ä–µ–¥–∞—Ç—å –ø—Ä–∞–≤–∞",
    'confirm_no': "‚ùå –û—Ç–º–µ–Ω–∏—Ç—å"
}

# ===============================
# üìä –ù–ê–°–¢–†–û–ô–ö–ò –†–ê–ë–û–¢–´
# ===============================
SETTINGS = {
    'max_preview_length': 4000,  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø—Ä–µ–≤—å—é
    'media_caption_limit': 1020,  # –õ–∏–º–∏—Ç –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ –∫ –º–µ–¥–∏–∞
    'album_processing_delay': 2,  # –ó–∞–¥–µ—Ä–∂–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞–ª—å–±–æ–º–∞ (—Å–µ–∫)
    'ai_request_timeout': 60,  # –¢–∞–π–º–∞—É—Ç AI –∑–∞–ø—Ä–æ—Å–∞ (—Å–µ–∫)
    'ai_max_tokens': 4000,  # –ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤ –æ—Ç AI
    'ai_temperature': 0.7,  # –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ AI
    'deepseek_model': 'deepseek-chat',  # –ú–æ–¥–µ–ª—å DeepSeek
    'deepseek_base_url': 'https://api.deepseek.com',
    'log_level': 'INFO',  # –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    'log_file': 'bot.log'  # –§–∞–π–ª –ª–æ–≥–æ–≤
}

# ===============================
# üé® PROMPT NAMES (–¥–ª—è UI)
# ===============================
PROMPT_NAMES = {
    'style_formatting': '–°—Ç–∏–ª—å –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ',
    'group_processing': '–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –≥—Ä—É–ø–ø—ã',
    'post_improvement': '–î–æ—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Å—Ç–æ–≤'
}

# ===============================
# üìã –í–†–ï–ú–ï–ù–ù–´–ï –°–õ–û–¢–´ (–¥–ª—è UI)
# ===============================
QUICK_SCHEDULE_OPTIONS = [
    {'text': BUTTONS['in_30_min'], 'minutes': 30},
    {'text': BUTTONS['in_1_hour'], 'minutes': 60},
    {'text': BUTTONS['tomorrow_9am'], 'tomorrow': True, 'hour': 9, 'minute': 0}
]